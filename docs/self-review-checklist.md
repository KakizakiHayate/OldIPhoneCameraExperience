# セルフレビューチェックリスト

PRを作成する前に、以下の項目を必ず確認してください。

---

## 1. Branch

- [ ] **Must**: 作業ブランチは `develop` から派生している
    - [ ] **※ Must**: `feature/*` から作業ブランチを派生している場合は、今回実装した機能と関連しているからか？（関連しているなら問題ない）
- [ ] **Must**: ブランチ名は `feature/<issue番号>-<機能名>` の形式

---

## 2. PR 作成

- [ ] **Must**: 1タスクにつき 1PR になっている
- [ ] **Must**: PRタイトルに概要が含まれている
- [ ] **Must**: PRテンプレートの全項目を埋めている（未記入なし）
- [ ] **Must**: 変更内容がIssueのスコープ内に収まっている

---

## 3. コードスタイル & 構成

### プロジェクト構成

- [ ] **Must**: ファイルが適切なレイヤー配下に配置されている（MVVM: Models / ViewModels / Views / Services / Core）
- [ ] **Must**: `architecture.md` のフォルダ構成に従っている

### 命名規則

- [ ] **Must**: 型名（struct / class / enum / protocol）は PascalCase
- [ ] **Must**: メソッド / 変数 / プロパティは camelCase
- [ ] **Must**: ファイル名は PascalCase で主要な型名と一致（例: `CameraViewModel.swift`）
- [ ] **Must**: Bool型の変数名は `is` / `has` / `should` / `can` で始める
- [ ] **Must**: 変数名に省略形を使用しない（`String` → ~~`Str`~~）
- [ ] **Must**: OOUI_DESIGN.md の命名規則に従っている（Photo, Camera 等の統一名称を使用）

### 共通化の確認

- [ ] **Must**: 共通化できるコードは `Core/` に切り出している
- [ ] **Must**: モジュール内でしか使用しないコードは、該当モジュール内に定義した

### コメント

- [ ] **Must**: 実装予定・修正タスクは `// TODO:` を付与
- [ ] **Must**: コメントは `// xxx` の形式で、スラッシュの後にスペースを入れている
- [ ] **Must**: 複雑なロジックの意図や前提条件をコメントで説明
- [ ] **Must**: なぜこのコードを書いたのかが他の人に伝わりづらい箇所は、理由をコメントで記載

### インポート

- [ ] **Must**: 標準フレームワーク / サードパーティ / プロジェクト内で分類している
- [ ] **Must**: 未使用インポートが残っていない

### マジックナンバー

- [ ] **Must**: ビジネスロジックの数値は `Core/Constants/` に定数化済み

### if文のネスト

- [ ] **Must**: ネストは2重以内
- [ ] **Must**: 複雑な場合は `guard` による早期リターンや関数分割を適用

### その他

- [ ] **Must**: 不要なコードや未使用変数を削除済み
- [ ] **Must**: メソッド長は40行以内に分割
- [ ] **Must**: 変数スコープは最小限
- [ ] **Must**: カラーコードや画像名は共通定数に集約
- [ ] **Must**: 強制アンラップ（`!`）を使用していない
- [ ] **Must**: タイポがない
- [ ] **Must**: プロパティ宣言 → イニシャライザ → メソッドの順で記載している
- [ ] **Must**: `// MARK: -` セクションで構造を整理している
- [ ] **Must**: SwiftLint の警告が0件である

---

## 4. アーキテクチャ

- [ ] **Must**: View が Service を直接呼び出していない（ViewModel 経由のみ）
- [ ] **Must**: ViewModel が SwiftUI の View 型に依存していない
- [ ] **Must**: Service 層は Protocol を定義し、DI 可能にしている
- [ ] **Must**: Model は純粋な `struct` で、ビジネスロジックを持っていない

---

## 5. テスト

- [ ] **Must**: 新規・変更した Model / ViewModel / Service にユニットテストを追加した
- [ ] **Must**: テストメソッド名は `test_[メソッド名]_[条件]_[期待結果]` 形式
- [ ] **Must**: `make test` が通る
- [ ] **Must**: `make lint` が通る

---
